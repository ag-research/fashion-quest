--- 
crackers:
  name: crackers
  location: apartment

sneakers:
  name: sneakers
  location: apartment

rum:
  name: rum
  location: apartment

rug:
  name: rug
  portable: false
  description: The rug is nailed to the floor.
  location: apartment
  events:
    on_get: |
      if !@props['keys'].location
        @props['keys'].location = 'apartment'
        "You hear a jingling sound.\n"
      end

ship:
  name: ship
  portable: false
  location:
  build_with:
  - nails
  - lumber
  - hammer
  - plans
  - sails
  - keel and mast
  - anchor
  events:
    on_build: |
      @locations['beach'].set_exit('beach', 'ship', 'ship', 'ship')
      @locations.load('beach')
      "CONGRATULATIONS !!! But your Adventure is not over yet...\n"

dubloons:
  name: dubloons
  location: monastery
  events:
    on_get: |
      # need check to see if you have parrot... if not you die
      # That's not very smart I'm snake bit
      alert('getting')

nails:
  name: nails
  visible: false
  description: The nails are lookin' good tonight.
  location: apartment
  get_with:
  - hammer
  events:
    on_get: |
      if @props['rug'].portable == false
        @props['nails'].visible = true
        @props['rug'].portable = true
        @props['rug'].description = "It looks like there's something underneath the rug."
        "The rug comes loose.\n"
      end

hammer:
  name: hammer
  description: It's a hammer of the claw variety.
  location: shed

shovel:
  name: shovel
  description: It's shovel-like in nature.
  location: shed
  traits:
    size: 2
    can_dig: true

lumber:
  name: lumber
  description: The lumber is precut. How fortunate for you.
  location: cavern
  traits:
    size: 2

sails:
  name: sails
  description: The sails are in a pile.
  location: cavern

water wings:
  name: water wings
  description: They float.
  location: shed

keys:
  name: keys
  description: The keys are shiny. You like that.

book:
  name: book
  description: The book is large and blood-soaked.
  visible: false
  location: alcove
  text: props/text/book.txt
  contains:
    - prop: flyer
  events:
    on_get: |
      if not (@locations['alcove'].has_exit('passage'))
        @props['book'].visible = true
        @locations['alcove'].add_to_description("The bookcase is open to reveal a secret passage beyond.\n")
        @locations['alcove'].set_exit('alcove', 'passage', 'passageway', 'book')
        @locations.load('alcove')
        @state['passage_opened'] = true
        "There's a strange sound.\n";
      end
    on_open: |
      alert('you opened it')
  traits:
    size: 2

flyer:
  name: flyer
  description: It's a small advertising flyer.
  text: props/text/flyer.txt

bag:
  name: bag
  description: It's a pirate's duffel bag.
  location: attic
  opened: false
  contains:
    - prop: matches

matches:
  name: matches
  traits:
    firestarter: true

torch:
  name: torch
  location: attic
  traits:
    lit: false
    burn_turns: 10000

fish:
  name: fish
  location: ocean
  get_with:
  - water

water:
  name: water
  location: ocean
  get_with:
  - bottle

bottles:
  name: bottles of rum
  description: These bottle contain rum as fine as any dug out of the ground.
  location: shore
  portable: false
  visible: false
  traits:
    buried: true

bottle:
  name: bottle
  description: The bottle is empty.

box:
  name: box
  description: The box is made of wood.
  location: field
  opens_with: hammer
  portable: false
  visible: false
  traits:
    buried: true
  contains:
    - prop: stamps

stamps:
  name: stamps
  description: Rare stamps!

mongoose:
  name: mongoose
  location: meadow

chest:
  name: chest
  portable: false
  location: shack
  opens_with: keys
  contains:
    - prop: plans
  events:
    on_look: |
      if @props['map'].visible == false and @props['chest'].opened == true
        @props['map'].visible  = true
        @props['map'].portable = true
        "A map fall out.\n"
      end

mongoose:
  name: mongoose
  location: meadow

plans:
  name: plans

map:
  name: map
  text: props/text/map.txt
  location: shack
  visible: false
  portable: false

keel and mast:
  name: keel and mast
  description: The keel and mast look like they belonged to a small ship.
  portable: false
  location: beach

anchor:
  name: anchor
  description: The anchor!
  location: lagoon
  portable: false
