--- 
crackers:
  name: crackers
  location: apartment

sneakers:
  name: sneakers
  location: apartment

rum:
  name: rum
  location: apartment

rug:
  name: rug
  description: The rug is nailed to the floor.
  location: apartment
  events:
    on_get: |
      if !@props['keys'].location
        @props['keys'].location = 'apartment'
        "You hear a jingling sound.\n"
      end
  traits:
    portable: false

ship:
  name: ship
  location:
  traits:
    portable: false
    build_with:
    - nails
    - lumber
    - hammer
    - plans
    - sails
    - keel and mast
    - anchor
  events:
    on_build: |
      @locations['beach'].set_exit('beach', 'ship', 'ship', 'ship')
      @locations.load('beach')
      "CONGRATULATIONS !!! But your Adventure is not over yet...\n"

dubloons:
  name: dubloons
  location: monastery
  events:
    on_get: |
      if @characters['snakes'].location == 'monastery'
        @over = true
        "That's not very smart I'm snake bit.\nWould you like to restart? (y/n)\n"
      end

nails:
  name: nails
  description: The nails are lookin' good tonight.
  location: apartment
  traits:
    visible: false
    get_with:
    - hammer
  events:
    on_get: |
      if @props['rug'].traits['portable'] == false
        @props['nails'].traits['visible'] = true
        @props['rug'].traits['portable'] = true
        @props['rug'].description = "It looks like there's something underneath the rug."
        "The rug comes loose.\n"
      end

hammer:
  name: hammer
  description: It's a hammer of the claw variety.
  location: shed

shovel:
  name: shovel
  description: It's shovel-like in nature.
  location: shed
  traits:
    size: 2
    can_dig: true

lumber:
  name: lumber
  description: The lumber is precut. How fortunate for you.
  location: cavern
  traits:
    size: 2

sails:
  name: sails
  description: The sails are in a pile.
  location: cavern

water wings:
  name: water wings
  description: They float.
  location: shed

keys:
  name: keys
  description: The keys are shiny. You like that.

book:
  name: book
  description: The book is large and blood-soaked.
  location: alcove
  events:
    on_get: |
      if not (@locations['alcove'].has_exit('passage'))
        @props['book'].traits['visible'] = true
        @locations['alcove'].add_to_description("The bookcase is open to reveal a secret passage beyond.\n")
        @locations['alcove'].set_exit('alcove', 'passage', 'passageway', 'book')
        @locations.load('alcove')
        @state['passage_opened'] = true
        "There's a strange sound.\n";
      end
    on_open: |
      alert('you opened it')
  traits:
    visible: false
    size: 2
    contains:
      - prop: flyer
    text: props/text/book.txt

flyer:
  name: flyer
  description: It's a small advertising flyer.
  traits:
    text: props/text/flyer.txt

bag:
  name: bag
  description: It's a pirate's duffel bag.
  location: attic
  traits:
    opened: false
    contains:
      - prop: matches

matches:
  name: matches
  traits:
    firestarter: true

torch:
  name: torch
  location: attic
  traits:
    lit: false
    burn_turns: 10000

fish:
  name: fish
  location: ocean
  traits:
    get_with:
    - water

water:
  name: water
  location: ocean
  traits:
    get_with:
    - bottle

bottles:
  name: bottles of rum
  description: These bottle contain rum as fine as any dug out of the ground.
  location: shore
  traits:
    portable: false
    visible: false
    buried: true

bottle:
  name: bottle
  description: The bottle is empty.

box:
  name: box
  description: The box is made of wood.
  location: field
  traits:
    portable: false
    visible: false
    buried: true
    opened: false
    opens_with: hammer
    contains:
      - prop: stamps

stamps:
  name: stamps
  description: Rare stamps!

mongoose:
  name: mongoose
  location: meadow

chest:
  name: chest
  location: shack
  events:
    on_look: |
      if @props['map'].traits['visible'] == false and @props['chest'].traits['opened'] == true
        @props['map'].traits['visible']  = true
        @props['map'].traits['portable'] = true
        "A map fall out.\n"
      end
  traits:
    portable: false
    opened: false
    opens_with: keys
    contains:
      - prop: plans

mongoose:
  name: mongoose
  location: meadow

plans:
  name: plans

map:
  name: map
  location: shack
  traits:
    portable: false
    visible: false
    text: props/text/map.txt

keel and mast:
  name: keel and mast
  description: The keel and mast look like they belonged to a small ship.
  location: beach
  traits:
    portable: false

anchor:
  name: anchor
  description: The anchor!
  location: lagoon
  traits:
    portable: false
