---
syntax:
- "sail"
- "set sail"

logic: |

  output = ''

  if location == 'ship'

    if props['book'].location == 'player' or props['book'].location == 'ship'

      output << "The pirate says 'First Yee be getting that ACCURSED thing off me ship!\n"

    else

      if characters['pirate'].location == 'ship'

        # shuttle ship between two locations
        game.state['ship_location'] = game.state['ship_location'] == 'beach' ? 'shore' : 'beach';

        # OKAY... shit's fucked up... need to rethink whole exit situation
        game.locations['beach'].set_exit('ship', '', 'beach', game.state['ship_location'])
        game.locations['beach'].set_exit('ship', '', 'shore', game.state['ship_location'])
        #game.locations.load('ship')

      else

        alert('no pirate')

      end

    end

  else

    output << "You need to be on a ship!\n"

  end

  output
